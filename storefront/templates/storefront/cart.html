{% extends 'base.html' %}

{% block content%}

<div class="container bg-white rounded shadow mt-5">
    <div class="row">
        <div class="col-8 p-4">
            <div class="border-bottom d-flex justify-content-between">
                <h3>Shopping Cart</h3>
                <h3>Cart({{ total_items }})</h3>
            </div>
            <div class="my-2">
                <div class="row">
                    <div class="col-5"><p>Product Details</p></div>
                    <div class="col-2"><p>Quantity</p></div>
                    <div class="col-2"><p>Price</p></div>
                    <div class="col-2"><p>Total</p></div>
                </div>
                {% for item, quantity in cart_items %}
                <div class="row cart d-flex align-items-center border-bottom">
                    <div class="col-5">
                        <div class="d-flex">
                            <img class="w-50" src="{{ item.picture.url}}"  alt="{{item.title}}">
                            <div class="ms-3 d-flex flex-column justify-content-center">
                                <h6>{{ item.title }}</h6>
                                <span>{{ item.category }}</span>
                                <a href="{% url 'remove-item' item.id %}" class="mt-3 text-muted">Remove</a>
                            </div>
                        </div>
                    </div>
                    <div class="col-2">
                        <i class="fa-solid fa-minus"></i>
                        <input type="text" class="w-50 text-center" value="{{ quantity }}">
                        <i class="fa-solid fa-plus"></i>
                    </div>
                    <div class="col-3"><p>{{ item.price }}</p></div>
                    <div class="col-3"><p>Total</p></div>
                </div>
                {% endfor %}

                <div class="bg-light mt-auto">
                    <a href="{% url 'Item-list' %}">
                        <i class="fa-solid fa-arrow-left"></i> Back to shopping
                    </a>
                </div>
            </div>
        </div>
        <div class="col-4 b-primary p-4">
            <div class="border-bottom text-center text-white">
                <h4>Order Summary</h4>
            </div>
            <div class="d-flex justify-content-between mt-4">
                <h5>Total items : {{ total_items }}</h5>
                <h5>Ugx. {{ total_price }}</h5></h5>
            </div>
            <div class="border-bottom pb-2">
                <p>shopping</p>
                <input type="text" class="form-control outline-none shadow-none">
                <p>Discount Code</p>
                <input type="text" class="form-control outline-none shadow-none">
            </div>
            <div class="mt-4 text-center">
                <div class="text-start d-flex justify-content-between">
                    <h6 class="text-muted">TOTAL COST:</h6>
                    <h5>Ugx. {{ total_price }}</h5></h5>
                </div>
                <a href="{% url 'Item-list' %}" class="btn btn-sm btn-primary w-100">
                    Order
                    <i class="fa-regular fa-hand-point-right ms-1"></i>
                </a>
            </div>
        </div>
    </div>
</div>
<!-- <ul>
    {% for item, quantity in cart_items %}
        <l1>
            <img src = "{{ item.picture.url}}" alt ="{{item.title}}">
            <h3> {{ item.title }} </h3>
            <p>Price : ${{ item.price }} </p>
            <p>Quantity : {{ quantity }} </p>
        </li>
    {% endfor %}
</ul>
<p> Total price : Shs. {{ total_price }}</p> -->



{% endblock%}